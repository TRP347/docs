---
title: "Waves Streaming STT"
---

Convert live audio into text using Wavesâ€™ low-latency ASR WebSocket API. Streaming STT lets you send audio in real time and receive partial and final transcripts as they are generated.

## **Endpoint**

**WebSocket URL:**

The ASR service is accessed via a WebSocket connection, which is established once and remains open for the duration of the audio stream.

- **URL**: `wss://waves-api.smallest.ai/api/v1/asr`
- **Method: WebSocket**

## **Required Headers / Auth**

Authentication and audio configuration are passed as \*\*query string parameters \*\*when establishing the WebSocket connection.

| **Parameter**     | **Type** | **Description**                                               |
| ----------------- | -------- | ------------------------------------------------------------- |
| `api_key`         | String   | Your API key obtained from the Waves platform.                |
| `audioLanguage`   | String   | The language code for the audio (e.g., `hi`, `en`)            |
| `audioEncoding`   | String   | The audio format (e.g., `linear16` - **Recommended)**         |
| `audioSampleRate` | String   | The sample rate of the audio (e.g., `1600` - **Recommended)** |

## **Sample Request**

```python
import asyncio, websockets, json

async def stream_audio():
    api_key = "YOUR_API_KEY"
    base = "wss://waves-api.smallest.ai/api/v1/asr"

    params = (
        "audioEncoding=linear16&"
        "audioSampleRate=16000&"
        "audioChannels=1&"
        "addPunctuation=true&"
        f"api_key={api_key}"
    )

    url = f"{base}?{params}"
    async with websockets.connect(url) as ws:

        # Send audio in small chunks
        with open("audio.wav", "rb") as f:
            while chunk := f.read(3200):     # ~100ms at 16kHz
                await ws.send(chunk)

        # Receive transcription events
        try:
            async for msg in ws:
                data = json.loads(msg)

                if "error" in data:
                    print("Error:", data)
                elif "text" in data:
                    end = " [END]" if data.get("isEndOfTurn") else ""
                    print(data["text"] + end)
        except:
            pass

asyncio.run(stream_audio())
```

## **Sample Response**

The API returns JSON objects for transcription update. Transcriptions will stream continuously until the final result is sent.

**A. Partial Transcription (intermediate result):**

```json
{
  "text": "The quick brown fox",
  "isEndOfTurn": false
}
```

**B. Final Transcription (complete segment):**

```json
{
  "text": "The quick brown fox jumps over the lazy dog.",
  "isEndOfTurn": true 
  // 'isEndOfTurn': true indicates the completion of a speech turn.
}
```

## **Usage Tip**

For best latency, send audio in **100-300ms binary chunks** (e.g., 3200-9600 bytes at 16 kHz). Smaller chunks reduce delay and produce faster partial transcripts. Using `linear16` at 16 kHz is the recommended configuration for real-time speech recognition.